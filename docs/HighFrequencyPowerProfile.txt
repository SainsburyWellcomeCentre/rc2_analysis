HighFrequencyPowerProfile class


The HighFrequencyPowerProfile class calculates the bandpower (by default the power 500Hz-5kHz) on a set of channels along a probe shank, in order to identify peaks in the high frequency power along the length of the shank.
This is primarily used to identify where along the shank the middle of L5 occurs (c.f. Senzai et al. (2018) Neuron).

The recording is separated into 'batches' (defined by properties 'first_batch_s', 'batch_interval_s' and 'batch_duration_s'). 

For each batch, the bandpower (500Hz to 5kHz) is computed for each channel and stored in the property 'power_raw').
(NOTE: you can also select a the 'lf' data to compute the power, in which case the maximum power is 1.25kHz as the data is sampled at 2.5kHz.)








Constructor

hf_power = HighFrequencyPowerProfile(glx_directory, shank_id, ap_or_lf)

Inputs

	glx_directory: 	directory containing a SpikeGLX *.ap.bin or *.lf.bin file (along with it's *.ap/lf.meta file)
                    the directory can only contain one such file
	shank_id:       zero-indexed number indicating the probe shank on which to calculate the LFP power
                    default = 0.
                    will be 0 for all Phase3A probes and 0-3 for a NP2 probe with 4 shanks
	ap_or_lf:       'ap' (default) or 'lf'. Indicates whether to use the AP or LF data generated by SpikeGLX
					    	Note: if you use 'lf', the max frequency in which to calculate the power will be 1250Hz.


Properties

first_batch_s:		number of seconds to ignore at the start of the recording
batch_interval_s: 	how often across the recording to sample the high frequency power
batch_duration_s: 	duration in seconds for each batch

