function trial = correct_at_trial_object_creation(trial)
% CORRECT_AT_TRIAL_OBJECT_CREATION Corrects for missing data in the
% formatted data
%
%   TRIAL = correct_at_trial_object_creation(TRIAL) takes a Trial object
%   and corrects a subset of these so that all trials are consistent.
%
%   TODO: This should go in data_cleansing, no need to have another
%   function at Trial object creation.

if any(strcmp(trial.session_id, ...
                {'CAA-1110262_rec1_001', ...
                 'CAA-1110263_rec1_001', ...
                 'CAA-1110264_rec1_001', ...
                 'CAA-1110265_rec1_001', ...
                 'CAA-1112221_rec1_001', ...
                 'CAA-1112222_rec1_001', ...
                 'CAA-1112223_rec1_001', ...
                 'CAA-1112224_rec1_001'}))
    trial.config.enable_vis_stim = true;
end


if any(strcmp(trial.session_id, ...
                {'CAA-1112414_rec1_001', ...
                 'CAA-1112415_rec1_001', ...
                 'CAA-1112416_rec1_001', ...
                 'CAA-1112417_rec1_001', ...
                 'CA_176_1_rec1_001', ...
                 'CA_176_3_rec1_001'}))
    trial.config.enable_vis_stim = false;
end
